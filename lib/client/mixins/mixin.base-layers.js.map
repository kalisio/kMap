{"version":3,"sources":["../../../src/client/mixins/mixin.base-layers.js"],"names":["baseLayersMixin","data","methods","setupBaseLayers","configuration","baseLayers","forEach","push","baseLayer","type","arguments","created","mounted","baseLayersControl","control","basemaps","position","tileX","tileY","tileZ","controls","set"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;;;AAEA,IAAIA,kBAAkB;AACpBC,MADoB,kBACZ;AACN,WAAO,EAAP;AAED,GAJmB;;AAKpBC,WAAS;AACPC,mBADO,6BACY;AAAA;;AACjB,WAAKC,aAAL,CAAmBC,UAAnB,CAA8BC,OAA9B,CAAsC,qBAAa;AACjD,cAAKD,UAAL,CAAgBE,IAAhB,CAAqB,kBAAEC,UAAUC,IAAZ,4DAAqBD,UAAUE,SAA/B,EAArB;AACD,OAFD;AAGD;AALM,GALW;AAYpBC,SAZoB,qBAYT;AACT;AACA,SAAKN,UAAL,GAAkB,EAAlB;AACD,GAfmB;AAgBpBO,SAhBoB,qBAgBT;AACT,SAAKT,eAAL;AACA,QAAIU,oBAAoB,kBAAEC,OAAF,CAAUC,QAAV,CAAmB;AACzCA,gBAAU,KAAKV,UAD0B;AAEzCW,gBAAU,YAF+B;AAGzCC,aAAO,CAHkC,EAG9B;AACXC,aAAO,CAJkC,EAI9B;AACXC,aAAO,CALkC,CAK9B;AAL8B,KAAnB,CAAxB;AAOA,SAAKC,QAAL,CAAcb,IAAd,CAAmBM,iBAAnB;AACD;AA1BmB,CAAtB;;AA6BA,cAAMQ,GAAN,CAAU,uBAAV,EAAmCrB,eAAnC;;kBAEeA,e","file":"mixin.base-layers.js","sourcesContent":["import L from 'leaflet'\r\nimport 'leaflet-basemaps/L.Control.Basemaps.js'\r\nimport 'leaflet-basemaps/L.Control.Basemaps.css'\r\nimport { Store } from 'kCore/client'\r\n\r\nlet baseLayersMixin = {\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  methods: {\r\n    setupBaseLayers () {\r\n      this.configuration.baseLayers.forEach(baseLayer => {\r\n        this.baseLayers.push(L[baseLayer.type](...baseLayer.arguments))\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    // This is the right place to declare private members because Vue has already processed observed data\r\n    this.baseLayers = []\r\n  },\r\n  mounted () {\r\n    this.setupBaseLayers()\r\n    let baseLayersControl = L.control.basemaps({\r\n      basemaps: this.baseLayers,\r\n      position: 'bottomleft',\r\n      tileX: 0,  // tile X coordinate\r\n      tileY: 0,  // tile Y coordinate\r\n      tileZ: 1   // tile zoom level\r\n    })\r\n    this.controls.push(baseLayersControl)\r\n  }\r\n}\r\n\r\nStore.set('mixins.map.baseLayers', baseLayersMixin)\r\n\r\nexport default baseLayersMixin\r\n"]}